<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>a3len - تسجيل الدخول</title>
<link rel="stylesheet" href="style.css">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script>
const firebaseConfig = {
  apiKey: "AIzaSyAl3XunFOwHpGw-4_VYyETMtoLgk4mnRpQ",
  authDomain: "a3len-3ad54.firebaseapp.com",
  databaseURL: "https://a3len-3ad54-default-rtdb.firebaseio.com",
  projectId: "a3len-3ad54",
  storageBucket: "a3len-3ad54.firebasestorage.app",
  messagingSenderId: "767338034080",
  appId: "1:767338034080:web:801d77fb74c0aa56e92ac5"
};
firebase.initializeApp(firebaseConfig);
function login() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  firebase.database().ref('users').orderByChild('username').equalTo(username).once('value').then(snapshot => {
    if (snapshot.exists()) {
      const user = Object.values(snapshot.val())[0];
      if (user.password === password) {
        alert('تم تسجيل الدخول بنجاح');
        localStorage.setItem('userId', Object.keys(snapshot.val())[0]);
        location.href = 'index.html';
      } else alert('كلمة المرور غير صحيحة');
    } else alert('اسم المستخدم غير موجود');
  });
}
</script>
</head>
<body>
<div class="sidebar">
  <h2>a3len</h2>
  <ul>
    <li onclick="location.href='index.html'">الرئيسية</li>
    <li onclick="location.href='login.html'">تسجيل الدخول</li>
    <li onclick="location.href='register.html'">إنشاء حساب</li>
  </ul>
</div>
<div class="content">
  <h1>تسجيل الدخول</h1>
  <input type="text" id="username" placeholder="اسم المستخدم">
  <input type="password" id="password" placeholder="كلمة المرور">
  <button onclick="login()">دخول</button>
</div>
</body>
</html>