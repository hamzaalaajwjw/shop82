<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ø³Ø§Ø¨ÙŠ | a3len</title>
    <style>
        @font-face {
            font-family: 'CustomFont';
            src: url('font.ttf') format('truetype');
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'CustomFont', sans-serif;
            background: #0f1115;
            color: #e5e7eb;
            min-height: 100vh;
        }
        
        /* Header */
        .header {
            background: #0b0d12;
            padding: 15px 0;
            border-bottom: 1px solid #1f2937;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .back-btn {
            color: #38bdf8;
            text-decoration: none;
            font-size: 16px;
            padding: 8px 16px;
            border-radius: 6px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .back-btn:hover {
            background: rgba(56, 189, 248, 0.1);
        }
        
        .logo {
            color: #38bdf8;
            font-size: 24px;
            font-weight: bold;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 25px;
            padding: 25px 0;
            min-height: calc(100vh - 100px);
        }
        
        /* Sidebar Navigation */
        .sidebar-nav {
            background: #1c1f27;
            border-radius: 12px;
            padding: 20px;
            height: fit-content;
            position: sticky;
            top: 100px;
            border: 1px solid #374151;
        }
        
        .user-profile-card {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid #374151;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            color: white;
            margin: 0 auto 15px;
            border: 3px solid #0f1115;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .user-name {
            color: #e5e7eb;
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .user-username {
            color: #9ca3af;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .user-stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        
        .user-stat {
            text-align: center;
        }
        
        .stat-number {
            color: #38bdf8;
            font-size: 18px;
            font-weight: bold;
            display: block;
        }
        
        .stat-label {
            color: #9ca3af;
            font-size: 12px;
            display: block;
        }
        
        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-item {
            padding: 12px 15px;
            color: #9ca3af;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 15px;
            border: 1px solid transparent;
        }
        
        .nav-item:hover {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            border-color: rgba(56, 189, 248, 0.2);
            transform: translateX(-5px);
        }
        
        .nav-item.active {
            background: rgba(56, 189, 248, 0.15);
            color: #38bdf8;
            border-color: rgba(56, 189, 248, 0.3);
            font-weight: bold;
        }
        
        .nav-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }
        
        /* Content Area */
        .content-area {
            background: #1c1f27;
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #374151;
            animation: fadeIn 0.3s ease;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #374151;
        }
        
        .content-title {
            color: #38bdf8;
            font-size: 24px;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-icon {
            font-size: 28px;
        }
        
        /* Overview Section */
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .overview-card {
            background: linear-gradient(135deg, #111827, #1f2937);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #374151;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .overview-card:hover {
            transform: translateY(-5px);
            border-color: #38bdf8;
            box-shadow: 0 8px 25px rgba(56, 189, 248, 0.15);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-icon {
            font-size: 24px;
            color: #38bdf8;
            background: rgba(56, 189, 248, 0.1);
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-trend {
            font-size: 14px;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .trend-up {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }
        
        .trend-down {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
        }
        
        .card-value {
            color: #e5e7eb;
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .card-label {
            color: #9ca3af;
            font-size: 14px;
        }
        
        /* Recent Activity */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .activity-item {
            background: #111827;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid #38bdf8;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.2s;
        }
        
        .activity-item:hover {
            background: #1f2937;
            transform: translateX(5px);
        }
        
        .activity-icon {
            font-size: 20px;
            color: #38bdf8;
            background: rgba(56, 189, 248, 0.1);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            color: #e5e7eb;
            font-size: 15px;
            margin-bottom: 5px;
        }
        
        .activity-time {
            color: #9ca3af;
            font-size: 12px;
        }
        
        /* Products Management */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .product-management-card {
            background: #111827;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #374151;
            transition: all 0.3s ease;
        }
        
        .product-management-card:hover {
            border-color: #38bdf8;
            box-shadow: 0 5px 20px rgba(56, 189, 248, 0.1);
        }
        
        .product-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .product-title {
            color: #e5e7eb;
            font-size: 16px;
            font-weight: bold;
            margin: 0;
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .product-price {
            color: #38bdf8;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .product-meta {
            color: #9ca3af;
            font-size: 13px;
            margin-bottom: 15px;
            display: flex;
            gap: 15px;
        }
        
        .product-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Settings Form */
        .settings-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-label {
            display: block;
            color: #d1d5db;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #374151;
            border-radius: 8px;
            background: #111318;
            color: #e5e7eb;
            font-size: 15px;
            transition: all 0.2s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.1);
        }
        
        .form-control:disabled {
            background: #1f2937;
            color: #9ca3af;
            cursor: not-allowed;
        }
        
        .form-hint {
            color: #9ca3af;
            font-size: 12px;
            margin-top: 5px;
            display: block;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        .checkbox-label {
            color: #9ca3af;
            font-size: 14px;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #111827, #1f2937);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid #374151;
            transition: transform 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
        }
        
        /* Security Section */
        .security-section {
            background: rgba(239, 68, 68, 0.05);
            border: 1px solid rgba(239, 68, 68, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .security-title {
            color: #ef4444;
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Buttons */
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 120px;
            text-decoration: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #38bdf8, #0ea5e9);
            color: #000;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #0ea5e9, #0284c7);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(56, 189, 248, 0.3);
        }
        
        .btn-secondary {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            border: 1px solid rgba(56, 189, 248, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(56, 189, 248, 0.2);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
        
        .btn-danger:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
            min-width: auto;
        }
        
        .btn-wide {
            width: 100%;
            padding: 12px;
        }
        
        /* Tabs */
        .settings-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid #374151;
            padding-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .settings-tab {
            padding: 10px 20px;
            color: #9ca3af;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        
        .settings-tab:hover {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
        }
        
        .settings-tab.active {
            background: rgba(56, 189, 248, 0.15);
            color: #38bdf8;
            border-color: rgba(56, 189, 248, 0.3);
            font-weight: bold;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: #9ca3af;
        }
        
        .empty-icon {
            font-size: 48px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .empty-text {
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .empty-subtext {
            font-size: 14px;
            color: #6b7280;
        }
        
        /* Loading State */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .spinner {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(56, 189, 248, 0.3);
            border-radius: 50%;
            border-top-color: #38bdf8;
            animation: spin 1s ease-in-out infinite;
            display: inline-block;
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            font-size: 12px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .badge-success {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .badge-warning {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        
        .badge-danger {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        
        .badge-info {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
            border: 1px solid rgba(56, 189, 248, 0.2);
        }
        
        /* Verification Badge */
        .verification-badge {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin-left: 10px;
        }
        
        /* Charts Container */
        .charts-container {
            background: #111827;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid #374151;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .sidebar-nav {
                position: static;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .content-area {
                padding: 20px;
            }
            
            .overview-grid {
                grid-template-columns: 1fr;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .settings-tabs {
                flex-direction: column;
            }
            
            .user-stats {
                flex-wrap: wrap;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }
        
        .modal {
            background: #1c1f27;
            border-radius: 12px;
            padding: 25px;
            width: 90%;
            max-width: 500px;
            border: 1px solid #374151;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }
        
        .modal-title {
            color: #38bdf8;
            font-size: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-btn">
                    â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
                <div class="logo">a3len</div>
                <div class="header-actions">
                    <button class="btn btn-secondary" onclick="refreshPage()">
                        â†» ØªØ­Ø¯ÙŠØ«
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="main-layout">
            <!-- Sidebar Navigation -->
            <nav class="sidebar-nav">
                <div class="user-profile-card">
                    <div class="user-avatar" id="userAvatar">ğŸ‘¤</div>
                    <h3 class="user-name" id="userName">Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h3>
                    <div class="user-username" id="userUsername">@username</div>
                    <div id="verificationStatus"></div>
                    
                    <div class="user-stats">
                        <div class="user-stat">
                            <span class="stat-number" id="productsCount">0</span>
                            <span class="stat-label">Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</span>
                        </div>
                        <div class="user-stat">
                            <span class="stat-number" id="followersCount">0</span>
                            <span class="stat-label">Ù…ØªØ§Ø¨Ø¹ÙŠÙ†</span>
                        </div>
                        <div class="user-stat">
                            <span class="stat-number" id="ratingScore">0.0</span>
                            <span class="stat-label">ØªÙ‚ÙŠÙŠÙ…</span>
                        </div>
                    </div>
                </div>
                
                <div class="nav-menu">
                    <a href="#" class="nav-item active" onclick="showSection('overview'); return false;">
                        <span class="nav-icon">ğŸ“Š</span>
                        Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('products'); return false;">
                        <span class="nav-icon">ğŸ›’</span>
                        Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('stats'); return false;">
                        <span class="nav-icon">ğŸ“ˆ</span>
                        Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('settings'); return false;">
                        <span class="nav-icon">âš™ï¸</span>
                        Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('security'); return false;">
                        <span class="nav-icon">ğŸ”’</span>
                        Ø§Ù„Ø£Ù…Ø§Ù†
                    </a>
                    <a href="#" class="nav-item" onclick="showSection('activity'); return false;">
                        <span class="nav-icon">ğŸ“</span>
                        Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
                    </a>
                    <a href="profile.html" class="nav-item">
                        <span class="nav-icon">ğŸ‘¤</span>
                        Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ
                    </a>
                    <a href="#" class="nav-item" onclick="logoutUser(); return false;" style="color: #ef4444;">
                        <span class="nav-icon">ğŸšª</span>
                        ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
                    </a>
                </div>
            </nav>

            <!-- Content Area -->
            <main class="content-area" id="contentArea">
                <!-- Overview Section -->
                <div id="overviewSection" class="content-section">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">ğŸ“Š</span>
                            Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø³Ø§Ø¨
                        </h2>
                        <button class="btn btn-primary" onclick="refreshData()">
                            â†» ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                        </button>
                    </div>
                    
                    <div class="overview-grid">
                        <div class="overview-card" onclick="showSection('products')">
                            <div class="card-header">
                                <div class="card-icon">ğŸ›’</div>
                                <div class="card-trend trend-up" id="productsTrend">+0</div>
                            </div>
                            <div class="card-value" id="totalProducts">0</div>
                            <div class="card-label">Ø¥Ø¹Ù„Ø§Ù† Ù†Ø´Ø·</div>
                        </div>
                        
                        <div class="overview-card" onclick="showSection('stats')">
                            <div class="card-header">
                                <div class="card-icon">ğŸ‘ï¸</div>
                                <div class="card-trend trend-up" id="viewsTrend">+0</div>
                            </div>
                            <div class="card-value" id="totalViews">0</div>
                            <div class="card-label">Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
                        </div>
                        
                        <div class="overview-card" onclick="showSection('stats')">
                            <div class="card-header">
                                <div class="card-icon">ğŸ’¬</div>
                                <div class="card-trend trend-up" id="messagesTrend">+0</div>
                            </div>
                            <div class="card-value" id="totalMessages">0</div>
                            <div class="card-label">Ø±Ø³Ø§Ù„Ø©</div>
                        </div>
                        
                        <div class="overview-card" onclick="showSection('stats')">
                            <div class="card-header">
                                <div class="card-icon">â­</div>
                                <div class="card-trend trend-up" id="ratingTrend">+0.0</div>
                            </div>
                            <div class="card-value" id="averageRating">0.0</div>
                            <div class="card-label">ØªÙ‚ÙŠÙŠÙ… Ù…ØªÙˆØ³Ø·</div>
                        </div>
                    </div>
                    
                    <div class="charts-container">
                        <h3 style="color: #38bdf8; margin-bottom: 20px;">ğŸ“ˆ Ù†Ø´Ø§Ø·Ùƒ Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h3>
                        <div id="activityChart" style="height: 200px; display: flex; align-items: flex-end; gap: 10px; padding: 20px;">
                            <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ù…Ø®Ø·Ø· Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </div>
                    </div>
                    
                    <div>
                        <h3 style="color: #38bdf8; margin-bottom: 15px;">ğŸš€ Ù†ØµØ§Ø¦Ø­ Ù„Ø²ÙŠØ§Ø¯Ø© Ù†Ø´Ø§Ø·Ùƒ</h3>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon">ğŸ“</div>
                                <div class="activity-content">
                                    <div class="activity-title">Ø£Ø¶Ù ÙˆØµÙØ§Ù‹ Ù…ÙØµÙ„Ø§Ù‹ Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙƒ</div>
                                    <div class="activity-time">ÙŠØ²ÙŠØ¯ Ù…Ù† ÙØ±Øµ Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ù†Ø³Ø¨Ø© 40%</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">ğŸ“¸</div>
                                <div class="activity-content">
                                    <div class="activity-title">Ø£Ø¶Ù ØµÙˆØ±Ø§Ù‹ ÙˆØ§Ø¶Ø­Ø© Ù„Ù„Ù‚Ø·Ø¹</div>
                                    <div class="activity-time">ÙŠØ²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØµØ¯Ø§Ù‚ÙŠØ© ÙˆØ§Ù„Ø«Ù‚Ø©</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon">â°</div>
                                <div class="activity-content">
                                    <div class="activity-title">Ø­Ø¯Ù‘Ø« Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙƒ Ø¨Ø§Ù†ØªØ¸Ø§Ù…</div>
                                    <div class="activity-time">ÙŠØ¸Ù‡Ø± Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙƒ ÙÙŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø£ÙˆÙ„Ù‰</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products Section -->
                <div id="productsSection" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">ğŸ›’</span>
                            Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ
                        </h2>
                        <div>
                            <button class="btn btn-secondary" onclick="showPublish()">
                                â• Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯
                            </button>
                            <button class="btn btn-primary" onclick="loadMyProducts()">
                                â†» ØªØ­Ø¯ÙŠØ«
                            </button>
                        </div>
                    </div>
                    
                    <div id="productsList">
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ›’</div>
                            <div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª...</div>
                        </div>
                    </div>
                </div>

                <!-- Stats Section -->
                <div id="statsSection" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">ğŸ“ˆ</span>
                            Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡
                        </h2>
                        <select id="statsPeriod" class="form-control" style="width: auto;" onchange="loadStats()">
                            <option value="week">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</option>
                            <option value="month">Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</option>
                            <option value="year">Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø©</option>
                            <option value="all">ÙƒÙ„ Ø§Ù„ÙˆÙ‚Øª</option>
                        </select>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="card-icon">ğŸ‘ï¸</div>
                            <div class="card-value" id="statsViews">0</div>
                            <div class="card-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª</div>
                        </div>
                        <div class="stat-card">
                            <div class="card-icon">ğŸ’¬</div>
                            <div class="card-value" id="statsContacts">0</div>
                            <div class="card-label">Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</div>
                        </div>
                        <div class="stat-card">
                            <div class="card-icon">ğŸ’°</div>
                            <div class="card-value" id="statsSales">0</div>
                            <div class="card-label">Ù…Ø¨ÙŠØ¹Ø§Øª Ù…Ø­ØªÙ…Ù„Ø©</div>
                        </div>
                        <div class="stat-card">
                            <div class="card-icon">â­</div>
                            <div class="card-value" id="statsRating">0.0</div>
                            <div class="card-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h3 style="color: #38bdf8; margin-bottom: 15px;">ğŸ“Š Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
                        <div id="performanceChart" style="height: 300px; padding: 20px; background: #111827; border-radius: 10px; border: 1px solid #374151;">
                            <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù…Ø®Ø·Ø· Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                            <div class="empty-state" style="padding: 40px;">
                                <div class="empty-icon">ğŸ“Š</div>
                                <div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settingsSection" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">âš™ï¸</span>
                            Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨
                        </h2>
                    </div>
                    
                    <div class="settings-tabs">
                        <a href="#" class="settings-tab active" onclick="showSettingsTab('profile'); return false;">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</a>
                        <a href="#" class="settings-tab" onclick="showSettingsTab('notifications'); return false;">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</a>
                        <a href="#" class="settings-tab" onclick="showSettingsTab('privacy'); return false;">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                        <a href="#" class="settings-tab" onclick="showSettingsTab('preferences'); return false;">Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª</a>
                    </div>
                    
                    <!-- Profile Settings -->
                    <div id="profileSettings" class="settings-tab-content">
                        <form id="profileForm" class="settings-form">
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                <input type="text" id="fullName" class="form-control" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
                                <span class="form-hint">Ø³ÙŠØ¸Ù‡Ø± Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label>
                                <input type="text" id="username" class="form-control" disabled>
                                <span class="form-hint">Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                <input type="email" id="email" class="form-control" disabled>
                                <span class="form-hint" id="emailStatus">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
                                <input type="tel" id="phone" class="form-control" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                                <span class="form-hint">ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ†</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„ÙˆØµÙ Ø§Ù„Ø´Ø®ØµÙŠ</label>
                                <textarea id="bio" class="form-control" rows="4" placeholder="Ø§ÙƒØªØ¨ ÙˆØµÙØ§Ù‹ Ø¹Ù† Ù†ÙØ³Ùƒ..." maxlength="200"></textarea>
                                <span class="form-hint">Ø­Ø¯ Ø£Ù‚ØµÙ‰ 200 Ø­Ø±Ù</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</label>
                                <select id="province" class="form-control">
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</option>
                                    <option value="Ø¨ØºØ¯Ø§Ø¯">Ø¨ØºØ¯Ø§Ø¯</option>
                                    <option value="Ø§Ù„Ø¨ØµØ±Ø©">Ø§Ù„Ø¨ØµØ±Ø©</option>
                                    <option value="Ø§Ù„Ù…ÙˆØµÙ„">Ø§Ù„Ù…ÙˆØµÙ„</option>
                                    <option value="Ø£Ø±Ø¨ÙŠÙ„">Ø£Ø±Ø¨ÙŠÙ„</option>
                                    <option value="Ø¯Ù‡ÙˆÙƒ">Ø¯Ù‡ÙˆÙƒ</option>
                                    <option value="Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©">Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©</option>
                                    <option value="Ù†ÙŠÙ†ÙˆÙ‰">Ù†ÙŠÙ†ÙˆÙ‰</option>
                                    <option value="Ø§Ù„Ø£Ù†Ø¨Ø§Ø±">Ø§Ù„Ø£Ù†Ø¨Ø§Ø±</option>
                                    <option value="Ø°ÙŠ Ù‚Ø§Ø±">Ø°ÙŠ Ù‚Ø§Ø±</option>
                                    <option value="Ø¨Ø§Ø¨Ù„">Ø¨Ø§Ø¨Ù„</option>
                                    <option value="ÙƒØ±Ø¨Ù„Ø§Ø¡">ÙƒØ±Ø¨Ù„Ø§Ø¡</option>
                                    <option value="ÙˆØ§Ø³Ø·">ÙˆØ§Ø³Ø·</option>
                                    <option value="Ø§Ù„Ø¯ÙŠÙˆØ§Ù†ÙŠØ©">Ø§Ù„Ø¯ÙŠÙˆØ§Ù†ÙŠØ©</option>
                                    <option value="Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©">Ø§Ù„Ù‚Ø§Ø¯Ø³ÙŠØ©</option>
                                    <option value="ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†">ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†</option>
                                    <option value="Ø§Ù„Ù…Ø«Ù†Ù‰">Ø§Ù„Ù…Ø«Ù†Ù‰</option>
                                    <option value="Ù…ÙŠØ³Ø§Ù†">Ù…ÙŠØ³Ø§Ù†</option>
                                    <option value="Ø§Ù„Ù†Ø¬Ù">Ø§Ù„Ù†Ø¬Ù</option>
                                    <option value="ÙƒØ±ÙƒÙˆÙƒ">ÙƒØ±ÙƒÙˆÙƒ</option>
                                </select>
                            </div>
                            
                            <button type="button" class="btn btn-primary btn-wide" onclick="saveProfile()">
                                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
                            </button>
                        </form>
                    </div>
                    
                    <!-- Notifications Settings -->
                    <div id="notificationsSettings" class="settings-tab-content" style="display: none;">
                        <div class="settings-form">
                            <div class="checkbox-group">
                                <input type="checkbox" id="notifyMessages" checked>
                                <label for="notifyMessages" class="checkbox-label">
                                    Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="notifyInterests" checked>
                                <label for="notifyInterests" class="checkbox-label">
                                    Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù† Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ØªÙ‡Ù…Ùƒ
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="notifyOffers" checked>
                                <label for="notifyOffers" class="checkbox-label">
                                    Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ ÙˆØ§Ù„ØªØ®ÙÙŠØ¶Ø§Øª
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="notifyPromotions" checked>
                                <label for="notifyPromotions" class="checkbox-label">
                                    Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="notifyNews" checked>
                                <label for="notifyNews" class="checkbox-label">
                                    Ø£Ø®Ø¨Ø§Ø± ÙˆØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ù†ØµØ©
                                </label>
                            </div>
                            
                            <button type="button" class="btn btn-primary btn-wide" onclick="saveNotificationSettings()">
                                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                            </button>
                        </div>
                    </div>
                    
                    <!-- Privacy Settings -->
                    <div id="privacySettings" class="settings-tab-content" style="display: none;">
                        <div class="settings-form">
                            <div class="checkbox-group">
                                <input type="checkbox" id="privacyProfile" checked>
                                <label for="privacyProfile" class="checkbox-label">
                                    Ø¹Ø±Ø¶ Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„Ø¹Ø§Ù…Ø©
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="privacyProducts" checked>
                                <label for="privacyProducts" class="checkbox-label">
                                    Ø¹Ø±Ø¶ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙŠ Ù„Ù„Ø¹Ø§Ù…Ø©
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="privacyPhone" checked>
                                <label for="privacyPhone" class="checkbox-label">
                                    Ø¹Ø±Ø¶ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙŠ ÙÙŠ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="privacyEmail">
                                <label for="privacyEmail" class="checkbox-label">
                                    Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
                                </label>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ù…Ù† ÙŠÙ…ÙƒÙ†Ù‡ Ù…ØªØ§Ø¨Ø¹ØªÙƒØŸ</label>
                                <select id="followPrivacy" class="form-control">
                                    <option value="everyone">Ø§Ù„Ø¬Ù…ÙŠØ¹</option>
                                    <option value="followers">Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙˆÙ† ÙÙ‚Ø·</option>
                                    <option value="none">Ù„Ø§ Ø£Ø­Ø¯</option>
                                </select>
                            </div>
                            
                            <div class="security-section">
                                <h4 class="security-title">âš ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø°Ù</h4>
                                <p style="color: #9ca3af; font-size: 14px; margin-bottom: 15px;">
                                    ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ù„Ø¨ Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª.
                                </p>
                                <button type="button" class="btn btn-danger" onclick="requestAccountDeletion()">
                                    ğŸ—‘ï¸ Ø·Ù„Ø¨ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨
                                </button>
                            </div>
                            
                            <button type="button" class="btn btn-primary btn-wide" onclick="savePrivacySettings()">
                                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                            </button>
                        </div>
                    </div>
                    
                    <!-- Preferences Settings -->
                    <div id="preferencesSettings" class="settings-tab-content" style="display: none;">
                        <div class="settings-form">
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ù„ØºØ©</label>
                                <select id="language" class="form-control">
                                    <option value="ar" selected>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                    <option value="en">English</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</label>
                                <select id="currency" class="form-control">
                                    <option value="IQD">Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ (IQD)</option>
                                    <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙˆÙ†ÙŠ</label>
                                <select id="theme" class="form-control">
                                    <option value="dark">Ø¯Ø§ÙƒÙ† (Ù…ÙØ¶Ù„)</option>
                                    <option value="light">ÙØ§ØªØ­</option>
                                    <option value="auto">ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ù†Ø¸Ø§Ù…</option>
                                </select>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="autoLogin" checked>
                                <label for="autoLogin" class="checkbox-label">
                                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                                </label>
                            </div>
                            
                            <div class="checkbox-group">
                                <input type="checkbox" id="saveFilters" checked>
                                <label for="saveFilters" class="checkbox-label">
                                    Ø­ÙØ¸ ØªØµÙÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø«
                                </label>
                            </div>
                            
                            <button type="button" class="btn btn-primary btn-wide" onclick="savePreferences()">
                                ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Security Section -->
                <div id="securitySection" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">ğŸ”’</span>
                            Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ©
                        </h2>
                    </div>
                    
                    <div class="security-section">
                        <h4 class="security-title">ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h4>
                        <form id="changePasswordForm" class="settings-form">
                            <div class="form-group">
                                <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
                                <input type="password" id="currentPassword" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                                <input type="password" id="newPassword" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                                <span class="form-hint">ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
                                <input type="password" id="confirmPassword" class="form-control" placeholder="Ø£ÙƒØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
                            </div>
                            
                            <button type="button" class="btn btn-primary" onclick="changePassword()">
                                ğŸ” ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                            </button>
                        </form>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h4 style="color: #38bdf8; margin-bottom: 15px;">ğŸ“± Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h4>
                        <div id="activeSessions">
                            <div class="empty-state" style="padding: 20px;">
                                <div class="empty-icon">ğŸ“±</div>
                                <div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©...</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h4 style="color: #38bdf8; margin-bottom: 15px;">âš ï¸ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©</h4>
                        <div id="securityWarnings">
                            <div class="empty-state" style="padding: 20px;">
                                <div class="empty-icon">âœ…</div>
                                <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ø°ÙŠØ±Ø§Øª Ø£Ù…Ù†ÙŠØ©</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <h4 style="color: #f59e0b; margin-bottom: 15px;">ğŸš¨ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø­Ø§Ø³Ù…Ø©</h4>
                        <button class="btn btn-danger" onclick="logoutAllSessions()" style="margin-right: 10px;">
                            ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©
                        </button>
                        <button class="btn btn-danger" onclick="deleteAllProducts()">
                            ğŸ—‘ï¸ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
                        </button>
                    </div>
                </div>

                <!-- Activity Section -->
                <div id="activitySection" class="content-section" style="display: none;">
                    <div class="content-header">
                        <h2 class="content-title">
                            <span class="section-icon">ğŸ“</span>
                            Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
                        </h2>
                        <select id="activityFilter" class="form-control" style="width: auto;" onchange="loadActivityLog()">
                            <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª</option>
                            <option value="products">Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</option>
                            <option value="messages">Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</option>
                            <option value="security">Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©</option>
                            <option value="profile">Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</option>
                        </select>
                    </div>
                    
                    <div id="activityLog">
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ“</div>
                            <div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª...</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button class="btn btn-secondary" onclick="clearActivityLog()">
                            ğŸ—‘ï¸ Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª
                        </button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modals -->
    <div id="confirmationModal" class="modal-overlay" style="display: none;">
        <div class="modal">
            <h3 class="modal-title" id="modalTitle">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</h3>
            <p id="modalMessage" style="color: #9ca3af; text-align: center; margin-bottom: 20px;">
                Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªÙ†ÙÙŠØ° Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©ØŸ
            </p>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
                <button class="btn btn-primary" id="confirmActionBtn">ØªØ£ÙƒÙŠØ¯</button>
            </div>
        </div>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    
    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyAl3XunFOwHpGw-4_VYyETMtoLgk4mnRpQ",
            authDomain: "a3len-3ad54.firebasestorage.app",
            databaseURL: "https://a3len-3ad54-default-rtdb.firebaseio.com",
            projectId: "a3len-3ad54",
            storageBucket: "a3len-3ad54.firebasestorage.app",
            messagingSenderId: "767338034080",
            appId: "1:767338034080:web:801d77fb74c0aa56e92ac5"
        };
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙƒØ±Ø§Ø± Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        
        const db = firebase.database();
        const auth = firebase.auth();
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø¹Ø§Ù…Ø©
        let currentUser = null;
        let userData = null;
        let currentAction = null;
        let currentActionData = null;
        
        // Initialize Page
        document.addEventListener('DOMContentLoaded', function() {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            auth.onAuthStateChanged((user) => {
                if (user) {
                    currentUser = user;
                    loadUserData();
                } else {
                    // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…Ø³Ø¬Ù„Ø§Ù‹ØŒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    window.location.href = 'login.html';
                }
            });
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø­Ø±Ø± Ø§Ù„ÙˆØµÙ
            setupBioEditor();
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            showSection('overview');
        });
        
        // Load User Data
        function loadUserData() {
            if (!currentUser) return;
            
            db.ref('users/' + currentUser.uid).once('value', (snapshot) => {
                userData = snapshot.val();
                if (userData) {
                    // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    updateUserProfile(userData);
                    
                    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
                    loadUserProducts();
                    loadUserStats();
                    loadActivityLog();
                    loadActiveSessions();
                    loadSecurityWarnings();
                    generateActivityChart();
                    
                    // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    loadUserSettings();
                } else {
                    // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    showError('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
                }
            });
        }
        
        // Update User Profile UI
        function updateUserProfile(data) {
            // Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const displayName = data.fullName || data.username || 'Ù…Ø³ØªØ®Ø¯Ù…';
            document.getElementById('userName').textContent = displayName;
            document.getElementById('userUsername').textContent = '@' + (data.username || 'user');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©
            const firstLetter = displayName.charAt(0).toUpperCase();
            document.getElementById('userAvatar').textContent = firstLetter;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            document.getElementById('productsCount').textContent = data.totalProducts || 0;
            document.getElementById('followersCount').textContent = data.followersCount || 0;
            document.getElementById('ratingScore').textContent = data.rating ? data.rating.toFixed(1) : '0.0';
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚
            const verificationStatus = document.getElementById('verificationStatus');
            if (data.isVerified) {
                verificationStatus.innerHTML = '<div class="verification-badge">âœ“ Ø­Ø³Ø§Ø¨ Ù…ÙˆØ«Ù‘Ù‚</div>';
            } else {
                verificationStatus.innerHTML = '<button class="btn btn-sm btn-secondary" onclick="verifyAccount()">âœ“ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨</button>';
            }
            
            // ØªØ­Ø¯ÙŠØ« Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.getElementById('fullName').value = data.fullName || '';
            document.getElementById('username').value = data.username || '';
            document.getElementById('email').value = data.email || '';
            document.getElementById('phone').value = data.phone || '';
            document.getElementById('bio').value = data.bio || '';
            document.getElementById('province').value = data.province || '';
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
            const emailStatus = document.getElementById('emailStatus');
            if (currentUser.emailVerified) {
                emailStatus.textContent = 'âœ“ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø¤ÙƒØ¯';
                emailStatus.style.color = '#10b981';
            } else {
                emailStatus.textContent = 'âš ï¸ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± Ù…Ø¤ÙƒØ¯';
                emailStatus.style.color = '#f59e0b';
            }
        }
        
        // Show Section
        function showSection(section) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
            document.querySelectorAll('.content-section').forEach(sec => {
                sec.style.display = 'none';
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(section + 'Section').style.display = 'block';
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
            const navItems = document.querySelectorAll('.nav-item');
            let targetItem = null;
            
            switch(section) {
                case 'overview':
                    targetItem = navItems[0];
                    break;
                case 'products':
                    targetItem = navItems[1];
                    loadMyProducts();
                    break;
                case 'stats':
                    targetItem = navItems[2];
                    loadStats();
                    break;
                case 'settings':
                    targetItem = navItems[3];
                    showSettingsTab('profile');
                    break;
                case 'security':
                    targetItem = navItems[4];
                    loadActiveSessions();
                    loadSecurityWarnings();
                    break;
                case 'activity':
                    targetItem = navItems[5];
                    loadActivityLog();
                    break;
            }
            
            if (targetItem) {
                targetItem.classList.add('active');
            }
        }
        
        // Show Settings Tab
        function showSettingsTab(tab) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.querySelectorAll('.settings-tab-content').forEach(tabContent => {
                tabContent.style.display = 'none';
            });
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø§Ø· Ù…Ù† Ø¬Ù…ÙŠØ¹ ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            document.querySelectorAll('.settings-tab').forEach(tabElement => {
                tabElement.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(tab + 'Settings').style.display = 'block';
            
            // ØªÙØ¹ÙŠÙ„ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            const tabs = document.querySelectorAll('.settings-tab');
            let targetTab = null;
            
            switch(tab) {
                case 'profile':
                    targetTab = tabs[0];
                    break;
                case 'notifications':
                    targetTab = tabs[1];
                    break;
                case 'privacy':
                    targetTab = tabs[2];
                    break;
                case 'preferences':
                    targetTab = tabs[3];
                    break;
            }
            
            if (targetTab) {
                targetTab.classList.add('active');
            }
        }
        
        // Load User Products
        function loadMyProducts() {
            const productsList = document.getElementById('productsList');
            productsList.innerHTML = '<div class="empty-state"><div class="spinner"></div><div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª...</div></div>';
            
            if (!currentUser) return;
            
            db.ref('products').orderByChild('uid').equalTo(currentUser.uid).once('value', (snapshot) => {
                const products = snapshot.val();
                
                if (!products) {
                    productsList.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ›’</div>
                            <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div>
                            <div class="empty-subtext">Ø§Ø¨Ø¯Ø£ Ø¨Ù†Ø´Ø± Ø£ÙˆÙ„ Ø¥Ø¹Ù„Ø§Ù† Ù„Ùƒ</div>
                            <button class="btn btn-primary" onclick="showPublish()" style="margin-top: 15px;">
                                â• Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯
                            </button>
                        </div>
                    `;
                    return;
                }
                
                const productsGrid = document.createElement('div');
                productsGrid.className = 'products-grid';
                
                Object.keys(products).forEach(productId => {
                    const product = products[productId];
                    
                    // ØªØ­Ø¯ÙŠØ¯ Ø´Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
                    let statusBadge = '';
                    if (product.status === 'sold') {
                        statusBadge = '<span class="badge badge-danger">Ù…Ø¨Ø§Ø¹</span>';
                    } else if (product.status === 'reserved') {
                        statusBadge = '<span class="badge badge-warning">Ù…Ø­Ø¬ÙˆØ²</span>';
                    } else {
                        statusBadge = '<span class="badge badge-success">Ù…ØªØ§Ø­</span>';
                    }
                    
                    const productCard = `
                        <div class="product-management-card">
                            <div class="product-header">
                                <h4 class="product-title">${escapeHTML(product.name || 'Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†')}</h4>
                                ${statusBadge}
                            </div>
                            <div class="product-meta">
                                <span>${product.price || 0} Ø¯.Ø¹</span>
                                <span>${product.category || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>
                                <span>${formatTimeAgo(product.timestamp)}</span>
                            </div>
                            <div class="product-actions">
                                <button class="btn btn-sm btn-secondary" onclick="editProduct('${productId}')">
                                    âœï¸ ØªØ¹Ø¯ÙŠÙ„
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="viewProduct('${productId}')">
                                    ğŸ‘ï¸ Ø¹Ø±Ø¶
                                </button>
                                <button class="btn btn-sm btn-danger" onclick="confirmDeleteProduct('${productId}')">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    `;
                    
                    productsGrid.innerHTML += productCard;
                });
                
                productsList.innerHTML = '';
                productsList.appendChild(productsGrid);
            });
        }
        
        // Load User Stats
        function loadUserStats() {
            if (!currentUser) return;
            
            // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
            db.ref('products').orderByChild('uid').equalTo(currentUser.uid).once('value', (snapshot) => {
                const products = snapshot.val();
                const productCount = products ? Object.keys(products).length : 0;
                
                document.getElementById('totalProducts').textContent = productCount;
                document.getElementById('productsTrend').textContent = '+0';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù‚Ù… ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
                document.getElementById('productsCount').textContent = productCount;
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª
            db.ref('reviews/' + currentUser.uid).once('value', (snapshot) => {
                const reviews = snapshot.val();
                let totalRating = 0;
                let reviewCount = 0;
                
                if (reviews) {
                    Object.values(reviews).forEach(review => {
                        totalRating += review.rating || 0;
                        reviewCount++;
                    });
                    
                    const averageRating = reviewCount > 0 ? (totalRating / reviewCount).toFixed(1) : '0.0';
                    document.getElementById('averageRating').textContent = averageRating;
                    document.getElementById('ratingScore').textContent = averageRating;
                    document.getElementById('ratingTrend').textContent = '+0.0';
                }
            });
        }
        
        // Load Stats with Period Filter
        function loadStats() {
            const period = document.getElementById('statsPeriod').value;
            
            // ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ Ø³Ù†Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ©
            // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªØ£ØªÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            document.getElementById('statsViews').textContent = '1,245';
            document.getElementById('statsContacts').textContent = '42';
            document.getElementById('statsSales').textContent = '18';
            document.getElementById('statsRating').textContent = '4.5';
        }
        
        // Load Activity Log
        function loadActivityLog() {
            const filter = document.getElementById('activityFilter').value;
            const activityLog = document.getElementById('activityLog');
            
            activityLog.innerHTML = '<div class="empty-state"><div class="spinner"></div><div class="empty-text">Ø¬Ø§Ø± ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª...</div></div>';
            
            if (!currentUser) return;
            
            db.ref('userActivity/' + currentUser.uid).limitToLast(50).once('value', (snapshot) => {
                const activities = snapshot.val();
                
                if (!activities) {
                    activityLog.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">ğŸ“</div>
                            <div class="empty-text">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ø³Ø§Ø¨Ù‚Ø©</div>
                        </div>
                    `;
                    return;
                }
                
                const activityList = document.createElement('div');
                activityList.className = 'activity-list';
                
                // ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙƒØ§Ø¦Ù† Ø¥Ù„Ù‰ Ù…ØµÙÙˆÙØ© ÙˆØªØ±ØªÙŠØ¨Ù‡Ø§
                const activityArray = Object.entries(activities).map(([id, activity]) => ({
                    id,
                    ...activity
                })).sort((a, b) => b.timestamp - a.timestamp);
                
                activityArray.forEach(activity => {
                    // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±
                    if (filter !== 'all') {
                        if (filter === 'products' && !activity.type.includes('product')) continue;
                        if (filter === 'messages' && !activity.type.includes('message')) continue;
                        if (filter === 'security' && !activity.type.includes('security')) continue;
                        if (filter === 'profile' && !activity.type.includes('profile')) continue;
                    }
                    
                    let activityIcon = 'ğŸ“';
                    let activityTitle = 'Ù†Ø´Ø§Ø· ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                    
                    switch(activity.type) {
                        case 'login':
                            activityIcon = 'ğŸ”';
                            activityTitle = 'ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„';
                            break;
                        case 'logout':
                            activityIcon = 'ğŸšª';
                            activityTitle = 'ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬';
                            break;
                        case 'product_created':
                            activityIcon = 'â•';
                            activityTitle = 'ØªÙ… Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯';
                            break;
                        case 'product_updated':
                            activityIcon = 'âœï¸';
                            activityTitle = 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ù„Ø§Ù†';
                            break;
                        case 'product_deleted':
                            activityIcon = 'ğŸ—‘ï¸';
                            activityTitle = 'ØªÙ… Ø­Ø°Ù Ø¥Ø¹Ù„Ø§Ù†';
                            break;
                        case 'profile_updated':
                            activityIcon = 'ğŸ‘¤';
                            activityTitle = 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ';
                            break;
                        case 'password_changed':
                            activityIcon = 'ğŸ”';
                            activityTitle = 'ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±';
                            break;
                        default:
                            activityIcon = 'ğŸ“';
                            activityTitle = activity.type || 'Ù†Ø´Ø§Ø·';
                    }
                    
                    const activityTime = activity.timestamp ? formatTimeAgo(activity.timestamp) : 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                    
                    const activityItem = document.createElement('div');
                    activityItem.className = 'activity-item';
                    activityItem.innerHTML = `
                        <div class="activity-icon">${activityIcon}</div>
                        <div class="activity-content">
                            <div class="activity-title">${activityTitle}</div>
                            <div class="activity-time">${activityTime}</div>
                            ${activity.details ? `<div class="activity-details" style="color: #9ca3af; font-size: 12px; margin-top: 5px;">${activity.details}</div>` : ''}
                        </div>
                    `;
                    
                    activityList.appendChild(activityItem);
                });
                
                activityLog.innerHTML = '';
                activityLog.appendChild(activityList);
            });
        }
        
        // Load Active Sessions
        function loadActiveSessions() {
            // ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ Ø³Ù†Ø¹Ø±Ø¶ Ø¬Ù„Ø³Ø© ÙˆØ§Ø­Ø¯Ø©
            // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªØ£ØªÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const activeSessions = document.getElementById('activeSessions');
            activeSessions.innerHTML = `
                <div class="activity-item">
                    <div class="activity-icon">ğŸ’»</div>
                    <div class="activity-content">
                        <div class="activity-title">Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø²</div>
                        <div class="activity-time">Ù†Ø´Ø· Ø§Ù„Ø¢Ù†</div>
                        <div class="activity-details">Chrome Ø¹Ù„Ù‰ Windows</div>
                    </div>
                    <button class="btn btn-sm btn-danger" onclick="logoutCurrentSession()">
                        ğŸšª Ø¥Ù†Ù‡Ø§Ø¡
                    </button>
                </div>
            `;
        }
        
        // Load Security Warnings
        function loadSecurityWarnings() {
            // ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø«Ø§Ù„ØŒ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ø°ÙŠØ±Ø§Øª
            // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªØ£ØªÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const securityWarnings = document.getElementById('securityWarnings');
            securityWarnings.innerHTML = `
                <div class="activity-item" style="border-left-color: #10b981;">
                    <div class="activity-icon">âœ…</div>
                    <div class="activity-content">
                        <div class="activity-title">Ø­Ø³Ø§Ø¨Ùƒ Ø¢Ù…Ù†</div>
                        <div class="activity-time">Ø¢Ø®Ø± ÙØ­Øµ: Ù‚Ø¨Ù„ Ù‚Ù„ÙŠÙ„</div>
                        <div class="activity-details">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‡Ø¯ÙŠØ¯Ø§Øª Ø£Ù…Ù†ÙŠØ© Ù…ÙƒØªØ´ÙØ©</div>
                    </div>
                </div>
            `;
        }
        
        // Generate Activity Chart
        function generateActivityChart() {
            const activityChart = document.getElementById('activityChart');
            
            // Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© Ù„Ù„Ù†Ø´Ø§Ø· Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
            const days = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø§Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
            const activities = [15, 12, 8, 20, 25, 18, 10];
            const maxActivity = Math.max(...activities);
            
            let chartHTML = '';
            days.forEach((day, index) => {
                const height = (activities[index] / maxActivity) * 150;
                const color = activities[index] > 15 ? '#38bdf8' : '#4b5563';
                
                chartHTML += `
                    <div style="
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    ">
                        <div style="
                            width: 30px;
                            height: ${height}px;
                            background: ${color};
                            border-radius: 6px 6px 0 0;
                            transition: all 0.3s;
                        " title="${activities[index]} Ù†Ø´Ø§Ø·"></div>
                        <div style="
                            margin-top: 10px;
                            color: #9ca3af;
                            font-size: 12px;
                            text-align: center;
                        ">${day}</div>
                    </div>
                `;
            });
            
            activityChart.innerHTML = chartHTML;
        }
        
        // Load User Settings
        function loadUserSettings() {
            if (!currentUser || !userData) return;
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            const settings = userData.settings || {};
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
            document.getElementById('notifyMessages').checked = settings.notifyMessages !== false;
            document.getElementById('notifyInterests').checked = settings.notifyInterests !== false;
            document.getElementById('notifyOffers').checked = settings.notifyOffers !== false;
            document.getElementById('notifyPromotions').checked = settings.notifyPromotions !== false;
            document.getElementById('notifyNews').checked = settings.notifyNews !== false;
            
            // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ©
            document.getElementById('privacyProfile').checked = settings.privacyProfile !== false;
            document.getElementById('privacyProducts').checked = settings.privacyProducts !== false;
            document.getElementById('privacyPhone').checked = settings.privacyPhone !== false;
            document.getElementById('privacyEmail').checked = settings.privacyEmail || false;
            document.getElementById('followPrivacy').value = settings.followPrivacy || 'everyone';
            
            // Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
            document.getElementById('language').value = settings.language || 'ar';
            document.getElementById('currency').value = settings.currency || 'IQD';
            document.getElementById('theme').value = settings.theme || 'dark';
            document.getElementById('autoLogin').checked = settings.autoLogin !== false;
            document.getElementById('saveFilters').checked = settings.saveFilters !== false;
        }
        
        // Save Profile
        function saveProfile() {
            if (!currentUser) return;
            
            const fullName = document.getElementById('fullName').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const bio = document.getElementById('bio').value.trim();
            const province = document.getElementById('province').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
            if (phone && !/^[0][0-9]{10}$/.test(phone)) {
                showError('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù… ÙˆÙŠØ¨Ø¯Ø£ Ø¨ØµÙØ±.');
                return;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø·ÙˆÙ„ Ø§Ù„ÙˆØµÙ
            if (bio.length > 200) {
                showError('Ø§Ù„ÙˆØµÙ ÙŠØ¬Ø¨ Ø£Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 200 Ø­Ø±Ù.');
                return;
            }
            
            const updates = {
                fullName: fullName || null,
                phone: phone || null,
                bio: bio || null,
                province: province || null,
                lastUpdated: firebase.database.ServerValue.TIMESTAMP
            };
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ÙØ§Ø±ØºØ©
            Object.keys(updates).forEach(key => {
                if (updates[key] === null) {
                    delete updates[key];
                }
            });
            
            db.ref('users/' + currentUser.uid).update(updates)
                .then(() => {
                    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                    userData = { ...userData, ...updates };
                    
                    // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    updateUserProfile(userData);
                    
                    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                    db.ref('userActivity/' + currentUser.uid).push().set({
                        type: 'profile_updated',
                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                        details: 'ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'
                    });
                    
                    showSuccess('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                })
                .catch((error) => {
                    console.error('Error saving profile:', error);
                    showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª');
                });
        }
        
        // Save Notification Settings
        function saveNotificationSettings() {
            if (!currentUser) return;
            
            const settings = {
                notifyMessages: document.getElementById('notifyMessages').checked,
                notifyInterests: document.getElementById('notifyInterests').checked,
                notifyOffers: document.getElementById('notifyOffers').checked,
                notifyPromotions: document.getElementById('notifyPromotions').checked,
                notifyNews: document.getElementById('notifyNews').checked
            };
            
            saveUserSettings('notifications', settings);
        }
        
        // Save Privacy Settings
        function savePrivacySettings() {
            if (!currentUser) return;
            
            const settings = {
                privacyProfile: document.getElementById('privacyProfile').checked,
                privacyProducts: document.getElementById('privacyProducts').checked,
                privacyPhone: document.getElementById('privacyPhone').checked,
                privacyEmail: document.getElementById('privacyEmail').checked,
                followPrivacy: document.getElementById('followPrivacy').value
            };
            
            saveUserSettings('privacy', settings);
        }
        
        // Save Preferences
        function savePreferences() {
            if (!currentUser) return;
            
            const settings = {
                language: document.getElementById('language').value,
                currency: document.getElementById('currency').value,
                theme: document.getElementById('theme').value,
                autoLogin: document.getElementById('autoLogin').checked,
                saveFilters: document.getElementById('saveFilters').checked
            };
            
            saveUserSettings('preferences', settings);
        }
        
        // Save User Settings
        function saveUserSettings(category, settings) {
            if (!currentUser) return;
            
            const updates = {};
            Object.keys(settings).forEach(key => {
                updates[`settings.${key}`] = settings[key];
            });
            
            db.ref('users/' + currentUser.uid).update(updates)
                .then(() => {
                    // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                    if (!userData.settings) userData.settings = {};
                    Object.assign(userData.settings, settings);
                    
                    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                    db.ref('userActivity/' + currentUser.uid).push().set({
                        type: 'settings_updated',
                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                        details: `ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ${category}`
                    });
                    
                    showSuccess('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                })
                .catch((error) => {
                    console.error('Error saving settings:', error);
                    showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
                });
        }
        
        // Change Password
        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„
            if (!currentPassword || !newPassword || !confirmPassword) {
                showError('Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©');
                return;
            }
            
            if (newPassword.length < 6) {
                showError('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                showError('ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†');
                return;
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            const credential = firebase.auth.EmailAuthProvider.credential(
                currentUser.email,
                currentPassword
            );
            
            currentUser.reauthenticateWithCredential(credential)
                .then(() => {
                    // ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    return currentUser.updatePassword(newPassword);
                })
                .then(() => {
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                    document.getElementById('changePasswordForm').reset();
                    
                    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                    db.ref('userActivity/' + currentUser.uid).push().set({
                        type: 'password_changed',
                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                        details: 'ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'
                    });
                    
                    showSuccess('ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­');
                })
                .catch((error) => {
                    console.error('Error changing password:', error);
                    
                    let errorMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±';
                    if (error.code === 'auth/wrong-password') {
                        errorMessage = 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©';
                    } else if (error.code === 'auth/weak-password') {
                        errorMessage = 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹';
                    } else if (error.code === 'auth/requires-recent-login') {
                        errorMessage = 'ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù‚Ø¨Ù„ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±';
                    }
                    
                    showError(errorMessage);
                });
        }
        
        // Verify Account
        function verifyAccount() {
            if (!currentUser) return;
            
            currentUser.sendEmailVerification()
                .then(() => {
                    showSuccess('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
                })
                .catch((error) => {
                    console.error('Error sending verification:', error);
                    showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù‚Ù‚');
                });
        }
        
        // Logout User
        function logoutUser() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ')) {
                auth.signOut()
                    .then(() => {
                        window.location.href = 'login.html';
                    })
                    .catch((error) => {
                        console.error('Logout error:', error);
                        showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');
                    });
            }
        }
        
        // Logout Current Session
        function logoutCurrentSession() {
            showConfirmation(
                'Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©',
                'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŸ Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø².',
                () => {
                    logoutUser();
                }
            );
        }
        
        // Logout All Sessions
        function logoutAllSessions() {
            showConfirmation(
                'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©',
                'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©ØŸ Ø³ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆÙŠØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.',
                () => {
                    // ÙÙŠ FirebaseØŒ ÙŠÙ…ÙƒÙ† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù„Ø³Ø§Øª
                    auth.signOut()
                        .then(() => {
                            window.location.href = 'login.html';
                        })
                        .catch((error) => {
                            console.error('Logout all error:', error);
                            showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©');
                        });
                }
            );
        }
        
        // Delete All Products
        function deleteAllProducts() {
            showConfirmation(
                'Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª',
                'âš ï¸ ØªØ­Ø°ÙŠØ±: Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡. Ø³ÙŠØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø¥Ø¹Ù„Ø§Ù†Ø§ØªÙƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
                () => {
                    if (!currentUser) return;
                    
                    db.ref('products').orderByChild('uid').equalTo(currentUser.uid).once('value', (snapshot) => {
                        const products = snapshot.val();
                        const updates = {};
                        
                        if (products) {
                            Object.keys(products).forEach(productId => {
                                updates[`products/${productId}`] = null;
                            });
                            
                            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                            updates[`users/${currentUser.uid}/totalProducts`] = 0;
                            
                            db.ref().update(updates)
                                .then(() => {
                                    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù†Ø´Ø§Ø·
                                    db.ref('userActivity/' + currentUser.uid).push().set({
                                        type: 'all_products_deleted',
                                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                                        details: `ØªÙ… Ø­Ø°Ù ${Object.keys(products).length} Ø¥Ø¹Ù„Ø§Ù†`
                                    });
                                    
                                    showSuccess('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                                    loadMyProducts();
                                    loadUserStats();
                                })
                                .catch((error) => {
                                    console.error('Error deleting products:', error);
                                    showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª');
                                });
                        } else {
                            showError('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ø­Ø°ÙÙ‡Ø§');
                        }
                    });
                }
            );
        }
        
        // Request Account Deletion
        function requestAccountDeletion() {
            showConfirmation(
                'Ø·Ù„Ø¨ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨',
                'âš ï¸ ØªØ­Ø°ÙŠØ± Ø´Ø¯ÙŠØ¯: Ø³ÙŠØªÙ… Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù… Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡ (Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§ØªØŒ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŒ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª). Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ',
                () => {
                    // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
                    // Ø£Ùˆ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¯Ø¹Ù… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    
                    showSuccess('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©. Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.');
                }
            );
        }
        
        // Edit Product
        function editProduct(productId) {
            // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù† script.js
            if (typeof window.editProduct === 'function') {
                window.editProduct(productId);
                window.location.href = 'index.html';
            }
        }
        
        // View Product
        function viewProduct(productId) {
            // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø±Ø¶ Ù…Ù† script.js
            if (typeof window.showDetails === 'function') {
                window.showDetails(productId);
            } else {
                // Ø¨Ø¯ÙŠÙ„ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ø¯Ø§Ù„Ø© Ù…ØªØ§Ø­Ø©
                window.open(`index.html?product=${productId}`, '_blank');
            }
        }
        
        // Confirm Delete Product
        function confirmDeleteProduct(productId) {
            showConfirmation(
                'Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†',
                'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ØŸ',
                () => {
                    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø°Ù Ù…Ù† script.js
                    if (typeof window.deleteProduct === 'function') {
                        window.deleteProduct(productId);
                        setTimeout(() => {
                            loadMyProducts();
                            loadUserStats();
                        }, 1000);
                    }
                }
            );
        }
        
        // Show Publish Form
        function showPublish() {
            // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ù…Ù† script.js
            if (typeof window.showPublish === 'function') {
                window.showPublish();
                window.location.href = 'index.html';
            }
        }
        
        // Clear Activity Log
        function clearActivityLog() {
            showConfirmation(
                'Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª',
                'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§ØªØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.',
                () => {
                    if (!currentUser) return;
                    
                    db.ref('userActivity/' + currentUser.uid).remove()
                        .then(() => {
                            loadActivityLog();
                            showSuccess('ØªÙ… Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
                        })
                        .catch((error) => {
                            console.error('Error clearing activity log:', error);
                            showError('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª');
                        });
                }
            );
        }
        
        // Setup Bio Editor
        function setupBioEditor() {
            const bioEditor = document.getElementById('bio');
            const charCount = document.createElement('div');
            charCount.className = 'form-hint';
            charCount.style.textAlign = 'left';
            charCount.style.marginTop = '5px';
            bioEditor.parentNode.insertBefore(charCount, bioEditor.nextSibling);
            
            bioEditor.addEventListener('input', function() {
                const currentLength = this.value.length;
                const maxLength = 200;
                charCount.textContent = `${currentLength}/${maxLength}`;
                
                if (currentLength >= maxLength - 20) {
                    charCount.style.color = '#f59e0b';
                } else if (currentLength >= maxLength) {
                    charCount.style.color = '#ef4444';
                } else {
                    charCount.style.color = '#9ca3af';
                }
            });
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø¯Ø« Ù…Ø±Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠ
            bioEditor.dispatchEvent(new Event('input'));
        }
        
        // Show Confirmation Modal
        function showConfirmation(title, message, callback) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('confirmationModal').style.display = 'flex';
            
            const confirmBtn = document.getElementById('confirmActionBtn');
            confirmBtn.onclick = function() {
                closeModal();
                if (callback) callback();
            };
        }
        
        // Close Modal
        function closeModal() {
            document.getElementById('confirmationModal').style.display = 'none';
        }
        
        // Refresh Data
        function refreshData() {
            if (!currentUser) return;
            
            showSuccess('Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
            loadUserData();
        }
        
        // Refresh Page
        function refreshPage() {
            window.location.reload();
        }
        
        // Show Success Message
        function showSuccess(message) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ù„Ù„Ø±Ø³Ø§Ù„Ø©
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #10b981, #059669);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                z-index: 2000;
                box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
                animation: fadeIn 0.3s ease;
                max-width: 400px;
            `;
            messageDiv.innerHTML = `âœ… ${message}`;
            
            document.body.appendChild(messageDiv);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                messageDiv.style.opacity = '0';
                messageDiv.style.transition = 'opacity 0.3s';
                setTimeout(() => messageDiv.remove(), 300);
            }, 3000);
        }
        
        // Show Error Message
        function showError(message) {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ù„Ù„Ø±Ø³Ø§Ù„Ø©
            const messageDiv = document.createElement('div');
            messageDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #ef4444, #dc2626);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                z-index: 2000;
                box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
                animation: fadeIn 0.3s ease;
                max-width: 400px;
            `;
            messageDiv.innerHTML = `âŒ ${message}`;
            
            document.body.appendChild(messageDiv);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
            setTimeout(() => {
                messageDiv.style.opacity = '0';
                messageDiv.style.transition = 'opacity 0.3s';
                setTimeout(() => messageDiv.remove(), 300);
            }, 3000);
        }
        
        // Helper Functions
        function escapeHTML(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        function formatTimeAgo(timestamp) {
            if (!timestamp) return 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
            
            const date = new Date(timestamp);
            const now = new Date();
            const diffMs = now - date;
            const diffMins = Math.floor(diffMs / (1000 * 60));
            const diffHours = Math.floor(diffMins / 60);
            const diffDays = Math.floor(diffHours / 24);
            
            if (diffMins < 1) return 'Ø§Ù„Ø¢Ù†';
            if (diffMins < 60) return `Ù‚Ø¨Ù„ ${diffMins} Ø¯Ù‚ÙŠÙ‚Ø©`;
            if (diffHours < 24) return `Ù‚Ø¨Ù„ ${diffHours} Ø³Ø§Ø¹Ø©`;
            if (diffDays < 7) return `Ù‚Ø¨Ù„ ${diffDays} ÙŠÙˆÙ…`;
            if (diffDays < 30) return `Ù‚Ø¨Ù„ ${Math.floor(diffDays / 7)} Ø£Ø³Ø¨ÙˆØ¹`;
            if (diffDays < 365) return `Ù‚Ø¨Ù„ ${Math.floor(diffDays / 30)} Ø´Ù‡Ø±`;
            
            return `Ù‚Ø¨Ù„ ${Math.floor(diffDays / 365)} Ø³Ù†Ø©`;
        }
        
        // Ø¥Ø¶Ø§ÙØ© event listener Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø­Ø°Ù
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('edit-product') || 
                e.target.closest('.edit-product')) {
                const productId = e.target.dataset.id || e.target.closest('.edit-product').dataset.id;
                if (productId) editProduct(productId);
            }
            
            if (e.target.classList.contains('delete-product') || 
                e.target.closest('.delete-product')) {
                const productId = e.target.dataset.id || e.target.closest('.delete-product').dataset.id;
                if (productId) confirmDeleteProduct(productId);
            }
        });
    </script>
</body>
</html>
